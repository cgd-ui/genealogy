import{_ as U,l as C,K as A,L as B,M as T,N as F,A as S,O as E,E as I,i as D,Q as N,S as R,j as G,R as K,s as c,m as V,r as l,c as u,a as n,b as r,w as d,h as p,C as i,o as a,n as v,t as k}from"./entry-f2f8a875.mjs";C.add(A,B,T,F);const j={meta:{breadcrumb:"edit",title:"Edit User"},components:{Accessories:S,DeleteModal:E,EnsoForm:I,FormField:D,PasswordStrength:N,Sessions:R,Tab:G,Tokens:K},inject:["i18n","canAccess","errorHandler","route","routerErrorHandler","toastr"],setup(){return c(null),c(!1),c({userGroups:{id:null}}),c(null),c(null),{two:V(()=>store.state[enums].user)}}},H={class:"columns is-centered"},M={class:"column is-four-fifths-desktop is-full-touch"},L={key:0,class:"level-item"},O={class:"is-hidden-mobile"},Q={class:"icon"},q=n("span",{class:"is-hidden-mobile"},null,-1),z={class:"level-item"},J={class:"is-hidden-mobile"},W={class:"icon"},X=n("span",{class:"is-hidden-mobile"},null,-1),Y={key:1,class:"level-item"},Z={class:"is-hidden-mobile"},x={class:"icon"},ee=n("span",{class:"is-hidden-mobile"},null,-1),se={class:"columns is-centered"},oe={class:"column is-half"},ne={class:"columns is-centered"},te={class:"column is-half"};function ae(e,o,re,ie,le,m){const f=l("form-field"),b=l("password-strength"),_=l("fa"),h=l("enso-form"),$=l("tokens"),y=l("tab"),w=l("sessions"),g=l("accessories"),P=l("delete-modal");return a(),u("div",H,[n("div",M,[r(h,{class:"box has-background-light raises-on-hover",ref:"form",onReady:o[7]||(o[7]=s=>{e.ready=!0,e.pivotParams.userGroups.id=e.$refs.form.field("group_id").value})},{group_id:d(s=>[r(f,v(s,{onInput:o[0]||(o[0]=t=>e.pivotParams.userGroups.id=t)}),null,16)]),role_id:d(s=>[r(f,v(s,{"pivot-params":e.pivotParams}),null,16,["pivot-params"])]),password:d(s=>[s.field.meta.hidden?i("",!0):(a(),p(f,v({key:0},s,{onFocus:t=>s.field.meta.readonly=!1,onBlur:t=>s.field.meta.readonly=!0,onInput:o[1]||(o[1]=t=>e.password=t.target.value)}),null,16,["onFocus","onBlur"])),r(b,{class:"mt-1",password:s.field.value},null,8,["password"])]),password_confirmation:d(s=>[s.field.meta.hidden?i("",!0):(a(),p(f,v({key:0},s,{onFocus:t=>s.field.meta.readonly=!1,onBlur:t=>s.field.meta.readonly=!0,onInput:o[2]||(o[2]=t=>e.passwordConfirmation=t.target.value),onKeydown:o[3]||(o[3]=t=>{e.$emit("update")})}),null,16,["onFocus","onBlur"]))]),"actions-left":d(()=>[m.canAccess("administration.users.destroy")?(a(),u("div",L,[e.ready?(a(),u("a",{key:0,class:"button is-danger",onClick:o[4]||(o[4]=s=>e.deletableUser=Number.parseInt(e.$route.params.user,10))},[n("span",O,k(m.i18n("Delete")),1),n("span",Q,[r(_,{icon:"trash-alt"})]),q])):i("",!0)])):i("",!0),n("div",z,[e.ready?(a(),u("a",{key:0,class:"button is-warning",onClick:o[5]||(o[5]=s=>e.$router.push({name:"administration.people.edit",params:{person:e.$refs.form.param("personId")}}))},[n("span",J,k(m.i18n("Edit Person")),1),n("span",W,[r(_,{icon:"user-tie"})]),X])):i("",!0)]),m.canAccess("administration.users.resetPassword")?(a(),u("div",Y,[e.ready?(a(),u("a",{key:0,class:"button is-black",onClick:o[6]||(o[6]=(...s)=>e.resetPassword&&e.resetPassword(...s))},[n("span",Z,k(m.i18n("Reset Password")),1),n("span",x,[r(_,{icon:"redo"})]),ee])):i("",!0)])):i("",!0)]),_:1},512),r(g,null,{default:d(({count:s})=>[e.canAccessTokens?(a(),p(y,{key:0,"keep-alive":"",id:"Tokens"},{default:d(()=>[n("div",se,[n("div",oe,[r($,{id:e.$route.params.user,onUpdate:t=>e.$set(s,"Tokens",e.$refs.tokens.count),ref:"tokens"},null,8,["id","onUpdate"])])])]),_:2},1024)):i("",!0),e.canAccessSessions?(a(),p(y,{key:1,"keep-alive":"",id:"Sessions"},{default:d(()=>[n("div",ne,[n("div",te,[r(w,{id:e.$route.params.user,onUpdate:t=>e.$set(s,"Sessions",e.$refs.sessions.count),ref:"sessions"},null,8,["id","onUpdate"])])])]),_:2},1024)):i("",!0)]),_:1}),e.deletableUser?(a(),p(P,{key:0,"user-id":e.deletableUser,onClose:o[8]||(o[8]=s=>e.deletableUser=null),onDestroyed:e.navigateToIndex},null,8,["user-id","onDestroyed"])):i("",!0)])])}var ue=U(j,[["render",ae]]);export{ue as default};
